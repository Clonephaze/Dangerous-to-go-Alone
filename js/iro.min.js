(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,e.iro=t())})(this,function(){"use strict";function e(e,t){for(var n in t)e[n]=t[n];return e}function t(e){var t=e.parentNode;t&&t.removeChild(e)}function n(t,n,i){var o,s,l,a,u=arguments;if(n=e({},n),arguments.length>3)for(i=[i],o=3;o<arguments.length;o++)i.push(u[o]);if(null!=i&&(n.children=i),null!=t&&null!=t.defaultProps)for(s in t.defaultProps)void 0===n[s]&&(n[s]=t.defaultProps[s]);return a=n.key,null!=(l=n.ref)&&delete n.ref,null!=a&&delete n.key,r(t,n,a,l)}function r(e,t,n,r){var i={type:e,props:t,key:n,ref:r,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return ne.vnode&&ne.vnode(i),i}function i(e){return e.children}function o(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return r(null,e,null,null);if(null!=e.__e||null!=e.__c){var t=r(e.type,e.props,e.key,null);return t.__e=e.__e,t}return e}function s(e,t){this.props=e,this.context=t}function l(e,t){if(null==t)return e.__p?l(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?l(e):null}function a(e){var t,n;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return a(e)}}function u(e){(!e.__d&&(e.__d=!0)&&1===re.push(e)||oe!==ne.debounceRendering)&&(oe=ne.debounceRendering,(ne.debounceRendering||ie)(c))}function c(){var t,n,r,i,o,s,u,c;for(re.sort(function(e,t){return t.__v.__b-e.__v.__b});t=re.pop();)t.__d&&(r=void 0,i=void 0,s=(o=(n=t).__v).__e,u=n.__P,c=n.u,n.u=!1,u&&(r=[],i=_(u,o,e({},o),n.__n,void 0!==u.ownerSVGElement,null,r,c,null==s?l(o):s),b(r,o),i!=s&&a(o)))}function h(e,n,r,i,o,s,a,u,c){var h,f,p,v,g,b,y,k=r&&r.__k||ae,w=k.length;if(u==le&&(u=null!=s?s[0]:w?l(r,0):null),h=0,n.__k=d(n.__k,function(t){if(null!=t){if(t.__p=n,t.__b=n.__b+1,null===(p=k[h])||p&&t.key==p.key&&t.type===p.type)k[h]=void 0;else for(f=0;f<w;f++){if((p=k[f])&&t.key==p.key&&t.type===p.type){k[f]=void 0;break}p=null}if(v=_(e,t,p=p||le,i,o,s,a,null,u,c),(f=t.ref)&&p.ref!=f&&(y||(y=[])).push(f,t.__c||v,t),null!=v){if(null==b&&(b=v),null!=t.l)v=t.l,t.l=null;else if(s==p||v!=u||null==v.parentNode){e:if(null==u||u.parentNode!==e)e.appendChild(v);else{for(g=u,f=0;(g=g.nextSibling)&&f<w;f+=2)if(g==v)break e;e.insertBefore(v,u)}"option"==n.type&&(e.value="")}u=v.nextSibling,"function"==typeof n.type&&(n.l=v)}}return h++,t}),n.__e=b,null!=s&&"function"!=typeof n.type)for(h=s.length;h--;)null!=s[h]&&t(s[h]);for(h=w;h--;)null!=k[h]&&x(k[h],k[h]);if(y)for(h=0;h<y.length;h++)m(y[h],y[++h],y[++h])}function d(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)d(e[r],t,n);else n.push(t?t(o(e)):e);return n}function f(e,t,n,r,i){var o;for(o in n)o in t||v(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"value"===o||"checked"===o||n[o]===t[o]||v(e,o,t[o],n[o],r)}function p(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===ue.test(t)?n+"px":null==n?"":n}function v(e,t,n,r,i){var o,s,l,a,u;if("key"===(t=i?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(o=e.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof r&&(o.cssText="",r=null),r)for(s in r)n&&s in n||p(o,s,"");if(n)for(l in n)r&&n[l]===r[l]||p(o,l,n[l])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),u=t.toLowerCase(),t=(u in e?u:t).slice(2),n?(r||e.addEventListener(t,g,a),(e.t||(e.t={}))[t]=n):e.removeEventListener(t,g,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function g(e){return this.t[e.type](ne.event?ne.event(e):e)}function _(t,n,r,o,l,a,u,c,f,p){var v,g,_,b,m,x,w,S,E,C,T=n.type;if(void 0!==n.constructor)return null;(v=ne.__b)&&v(n);try{e:if("function"==typeof T){if(S=n.props,E=(v=T.contextType)&&o[v.__c],C=v?E?E.props.value:v.__p:o,r.__c?w=(g=n.__c=r.__c).__p=g.__E:("prototype"in T&&T.prototype.render?n.__c=g=new T(S,C):(n.__c=g=new s(S,C),g.constructor=T,g.render=k),E&&E.sub(g),g.props=S,g.state||(g.state={}),g.context=C,g.__n=o,_=g.__d=!0,g.__h=[]),null==g.__s&&(g.__s=g.state),null!=T.getDerivedStateFromProps&&e(g.__s==g.state?g.__s=e({},g.__s):g.__s,T.getDerivedStateFromProps(S,g.__s)),_)null==T.getDerivedStateFromProps&&null!=g.componentWillMount&&g.componentWillMount(),null!=g.componentDidMount&&u.push(g);else{if(null==T.getDerivedStateFromProps&&null==c&&null!=g.componentWillReceiveProps&&g.componentWillReceiveProps(S,C),!c&&null!=g.shouldComponentUpdate&&!1===g.shouldComponentUpdate(S,g.__s,C)){for(g.props=S,g.state=g.__s,g.__d=!1,g.__v=n,n.__e=null!=f?f!==r.__e?f:r.__e:null,n.__k=r.__k,v=0;v<n.__k.length;v++)n.__k[v]&&(n.__k[v].__p=n);break e}null!=g.componentWillUpdate&&g.componentWillUpdate(S,g.__s,C)}for(b=g.props,m=g.state,g.context=C,g.props=S,g.state=g.__s,(v=ne.__r)&&v(n),g.__d=!1,g.__v=n,g.__P=t,v=g.render(g.props,g.state,g.context),n.__k=d(null!=v&&v.type==i&&null==v.key?v.props.children:v),null!=g.getChildContext&&(o=e(e({},o),g.getChildContext())),_||null==g.getSnapshotBeforeUpdate||(x=g.getSnapshotBeforeUpdate(b,m)),h(t,n,r,o,l,a,u,f,p),g.base=n.__e;v=g.__h.pop();)g.__s&&(g.state=g.__s),v.call(g);_||null==b||null==g.componentDidUpdate||g.componentDidUpdate(b,m,x),w&&(g.__E=g.__p=null)}else n.__e=y(r.__e,n,r,o,l,a,u,p);(v=ne.diffed)&&v(n)}catch(t){ne.__e(t,n,r)}return n.__e}function b(e,t){for(var n;n=e.pop();)try{n.componentDidMount()}catch(e){ne.__e(e,n.__v)}ne.__c&&ne.__c(t)}function y(e,t,n,r,i,o,s,l){var a,u,c,d,p=n.props,v=t.props;if(i="svg"===t.type||i,null==e&&null!=o)for(a=0;a<o.length;a++)if(null!=(u=o[a])&&(null===t.type?3===u.nodeType:u.localName===t.type)){e=u,o[a]=null;break}if(null==e){if(null===t.type)return document.createTextNode(v);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),o=null}return null===t.type?p!==v&&(null!=o&&(o[o.indexOf(e)]=null),e.data=v):t!==n&&(null!=o&&(o=ae.slice.call(e.childNodes)),c=(p=n.props||le).dangerouslySetInnerHTML,d=v.dangerouslySetInnerHTML,l||(d||c)&&(d&&c&&d.__html==c.__html||(e.innerHTML=d&&d.__html||"")),f(e,v,p,i,l),t.__k=t.props.children,d||h(e,t,n,r,"foreignObject"!==t.type&&i,o,s,le,l),l||("value"in v&&void 0!==v.value&&v.value!==e.value&&(e.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==e.checked&&(e.checked=v.checked))),e}function m(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){ne.__e(e,n)}}function x(e,n,r){var i,o,s;if(ne.unmount&&ne.unmount(e),(i=e.ref)&&m(i,null,n),r||"function"==typeof e.type||(r=null!=(o=e.__e)),e.__e=e.l=null,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){ne.__e(e,n)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&x(i[s],n,r);null!=o&&t(o)}function k(e,t,n){return this.constructor(e,n)}function w(e,t,r){var o,s,l;ne.__p&&ne.__p(e,t),s=(o=r===se)?null:r&&r.__k||t.__k,e=n(i,null,[e]),l=[],_(t,o?t.__k=e:(r||t).__k=e,s||le,le,void 0!==t.ownerSVGElement,r&&!o?[r]:s?null:ae.slice.call(t.childNodes),l,!1,r||le,o),b(l,e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function C(){return C=Object.assign||function(e){for(var t=arguments,n=1;n<arguments.length;n++){var r=t[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},C.apply(this,arguments)}function T(e,t,n){return Math.min(Math.max(e,t),n)}function R(e,t){var n=e.indexOf("%")>-1,r=parseFloat(e);return n?t/100*r:r}function A(e){return parseInt(e,16)}function M(e){return e.toString(16).padStart(2,"0")}function O(e){var t,n=e.width,r=e.sliderSize,i=e.borderWidth,o=e.handleRadius,s=e.padding,l=e.sliderShape,a="horizontal"===e.layoutDirection;return r=null!=(t=r)?t:2*s+2*o,"circle"===l?{handleStart:e.padding+e.handleRadius,handleRange:n-2*s-2*o,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-i/2}:{handleStart:r/2,handleRange:n-r,radius:r/2,x:0,y:0,width:a?r:n,height:a?n:r}}function I(e,t){var n=t.hsva,r=t.rgb;switch(e.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return 100*n.a;case"kelvin":var i=e.minTemperature,o=e.maxTemperature,s=o-i,l=(t.kelvin-i)/s*100;return Math.max(0,Math.min(l,100));case"hue":return n.h/=3.6;case"saturation":return n.s;case"value":default:return n.v}}function P(e,t,n){var r,i=O(e),o=i.handleRange,s=i.handleStart;r="horizontal"===e.layoutDirection?-1*n+o+s:t-s,r=Math.max(Math.min(r,o),0);var l=Math.round(100/o*r);switch(e.sliderType){case"kelvin":var a=e.minTemperature,u=e.maxTemperature,c=u-a;return a+c*(l/100);case"alpha":return l/100;case"hue":return 3.6*l;case"red":case"blue":case"green":return 2.55*l;default:return l}}function j(e,t){var n=O(e),r=n.width,i=n.height,o=n.handleRange,s=n.handleStart,l="horizontal"===e.layoutDirection,a=I(e,t),u=l?r/2:i/2,c=s+a/100*o;return l&&(c=-1*c+o+2*s),{x:l?u:c,y:l?c:u}}function D(e,t){var n=t.hsv,r=t.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+r.g+","+r.b+")"],[100,"rgb(255,"+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+",0,"+r.b+")"],[100,"rgb("+r.r+",255,"+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+",0)"],[100,"rgb("+r.r+","+r.g+",255)"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var i=[],o=e.minTemperature,s=e.maxTemperature,l=8,a=s-o,u=o,c=0;u<s;u+=a/l,c+=1){var h=Ie.kelvinToRgb(u),d=h.r,f=h.g,p=h.b;i.push([100/l*c,"rgb("+d+","+f+","+p+")"])}return i;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var v=Ie.hsvToHsl({h:n.h,s:0,v:n.v}),g=Ie.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]];case"value":default:var _=Ie.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+_.h+","+_.s+"%,"+_.l+"%)"]]}}function H(e){return e.width/2-e.padding-e.handleRadius-e.borderWidth}function N(e,t,n){var r=W(e),i=r.cx,o=r.cy,s=e.width/2;return He(i-t,o-n)<s}function W(e){var t=e.width/2;return{width:e.width,radius:t-e.borderWidth,cx:t,cy:t}}function $(e,t,n){var r=e.wheelAngle,i=e.wheelDirection;return n&&"clockwise"===i?t=r+t:"clockwise"===i?t=360-r+t:n&&"anticlockwise"===i?t=r+180-t:"anticlockwise"===i&&(t=r-t),De(t,360)}function L(e,t){var n=t.hsv,r=W(e),i=r.cx,o=r.cy,s=H(e),l=(180+$(e,n.h,!0))*(je/360),a=n.s/100*s,u="clockwise"===e.wheelDirection?-1:1;return{x:i+a*Math.cos(l)*u,y:o+a*Math.sin(l)*u}}function z(e,t,n){var r=W(e),i=r.cx,o=r.cy,s=H(e);t=i-t,n=o-n;var l=$(e,Math.atan2(-n,-t)*(360/je)),a=Math.min(He(t,n),s);return{h:Math.round(l),s:Math.round(100/s*a)}}function U(e){var t=e.width,n=e.boxHeight,r=e.padding,i=e.handleRadius;return{width:t,height:null!=n?n:t,radius:r+i}}function B(e,t,n){var r=U(e),i=r.width,o=r.height,s=r.radius,l=s,a=i-2*s,u=o-2*s,c=(t-l)/a*100,h=(n-l)/u*100;return{s:Math.max(0,Math.min(c,100)),v:Math.max(0,Math.min(100-h,100))}}function F(e,t){var n=U(e),r=n.width,i=n.height,o=n.radius,s=t.hsv,l=o,a=r-2*o,u=i-2*o;return{x:l+s.s/100*a,y:l+(u-s.v/100*u)}}function q(e,t){var n=t.hue;return[[[0,"#fff"],[100,"hsl("+n+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}function V(e){ce||(ce=document.getElementsByTagName("base"));var t=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(t),r=/iPhone|iPod|iPad/i.test(t),i=window.location;return(n||r)&&ce.length>0?i.protocol+"//"+i.host+i.pathname+i.search+e:e}function G(e,t,n,r){for(var i=0;i<r.length;i++){var o=r[i].x-t,s=r[i].y-n,l=Math.sqrt(o*o+s*s);if(l<e.handleRadius)return i}return null}function K(e){return{boxSizing:"border-box",border:e.borderWidth+"px solid "+e.borderColor}}function X(e,t,n){return e+"-gradient("+t+", "+n.map(function(e){var t=e[0],n=e[1];return n+" "+t+"%"}).join(",")+")"}function Y(e){return"string"==typeof e?e:e+"px"}function Z(e){var t=e.r,r=e.url,i=t,o=t;return n("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+Y(e.x)+", "+Y(e.y)+")",willChange:"transform",top:Y(-t),left:Y(-t),width:Y(2*t),height:Y(2*t),position:"absolute",overflow:"visible"}},r&&n("use",Object.assign({xlinkHref:V(r)},e.props)),!r&&n("circle",{cx:i,cy:o,r:t,fill:"none","stroke-width":2,stroke:"#000"}),!r&&n("circle",{cx:i,cy:o,r:t-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}function J(e){function t(t,n,r){var o=P(e,t,n);e.parent.inputActive=!0,i[e.sliderType]=o,e.onInput(r,e.id)}var r=e.activeIndex,i=void 0!==r&&r<e.colors.length?e.colors[r]:e.color,o=O(e),s=o.width,l=o.height,a=o.radius,u=j(e,i),c=D(e,i);return n($e,Object.assign({},e,{onInput:t}),function(t,r,o){return n("div",Object.assign({},r,{className:"IroSlider",style:Object.assign({},{position:"relative",width:Y(s),height:Y(l),borderRadius:Y(a),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},o)}),n("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:Y(a),background:X("linear","horizontal"===e.layoutDirection?"to top":"to right",c)},K(e))}),n(Z,{isActive:!0,index:i.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u.x,y:u.y}))})}function Q(e){function t(t,n,r){if(0===r){var i=G(e,t,n,d);null!==i?a.setActiveColor(i):(a.inputActive=!0,c.hsv=B(e,t,n),e.onInput(r,e.id))}else 1===r&&(a.inputActive=!0,c.hsv=B(e,t,n));e.onInput(r,e.id)}var r=U(e),i=r.width,o=r.height,s=r.radius,l=e.colors,a=e.parent,u=e.activeIndex,c=void 0!==u&&u<e.colors.length?e.colors[u]:e.color,h=q(e,c),d=l.map(function(t){return F(e,t)});return n($e,Object.assign({},e,{onInput:t}),function(t,r,a){return n("div",Object.assign({},r,{className:"IroBox",style:Object.assign({},{width:Y(i),height:Y(o),position:"relative"},a)}),n("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:Y(s)},K(e),{background:X("linear","to bottom",h[1])+","+X("linear","to right",h[0])})}),l.filter(function(e){return e!==c}).map(function(t){return n(Z,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:d[t.index].x,y:d[t.index].y})}),n(Z,{isActive:!0,index:c.index,fill:c.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:d[c.index].x,y:d[c.index].y}))})}function ee(e){function t(t,n,r){if(0===r){if(!N(e,t,n))return!1;var i=G(e,t,n,u);null!==i?s.setActiveColor(i):(s.inputActive=!0,l.hsv=z(e,t,n),e.onInput(r,e.id))}else 1===r&&(s.inputActive=!0,l.hsv=z(e,t,n));e.onInput(r,e.id)}var r=W(e),i=r.width,o=e.colors,s=(e.borderWidth,e.parent),l=e.color,a=l.hsv,u=o.map(function(t){return L(e,t)}),c={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};return n($e,Object.assign({},e,{onInput:t}),function(t,r,s){return n("div",Object.assign({},r,{className:"IroWheel",style:Object.assign({},{width:Y(i),height:Y(i),position:"relative"},s)}),n("div",{className:"IroWheelHue",style:Object.assign({},c,{transform:"rotateZ("+(e.wheelAngle+90)+"deg)",background:"clockwise"===e.wheelDirection?Le:ze})}),n("div",{className:"IroWheelSaturation",style:Object.assign({},c,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),e.wheelLightness&&n("div",{className:"IroWheelLightness",style:Object.assign({},c,{background:"#000",opacity:1-a.v/100})}),n("div",{className:"IroWheelBorder",style:Object.assign({},c,K(e))}),o.filter(function(e){return e!==l}).map(function(t){return n(Z,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[t.index].x,y:u[t.index].y})}),n(Z,{isActive:!0,index:l.index,fill:l.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[l.index].x,y:u[l.index].y}))})}function te(e){var t=function(t,r){function i(){var e=t instanceof Element?t:document.querySelector(t);e.appendChild(o.base),o.onMount(e)}var o,s=document.createElement("div");return w(n(e,Object.assign({},{ref:function(e){return o=e}},r)),s),"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i),o};return t.prototype=e.prototype,Object.assign(t,e),t.__component=e,t}var ne,re,ie,oe,se,le={},ae=[],ue=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;ne={},s.prototype.setState=function(t,n){var r=this.__s!==this.state&&this.__s||(this.__s=e({},this.state));("function"!=typeof t||(t=t(r,this.props)))&&e(r,t),null!=t&&this.__v&&(this.u=!1,n&&this.__h.push(n),u(this))},s.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,u(this))},s.prototype.render=i,re=[],ie="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oe=ne.debounceRendering,ne.__e=function(e,t,n){for(var r;t=t.__p;)if((r=t.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(e));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(e)}return u(r.__E=r)}catch(t){e=t}throw e},se=le;var ce,he="[-\\+]?\\d+%?",de="[-\\+]?\\d*\\.\\d+%?",fe="(?:"+de+")|(?:"+he+")",pe="[\\s|\\(]+("+fe+")[,|\\s]+("+fe+")[,|\\s]+("+fe+")\\s*\\)?",ve="[\\s|\\(]+("+fe+")[,|\\s]+("+fe+")[,|\\s]+("+fe+")[,|\\s]+("+fe+")\\s*\\)?",ge=new RegExp("rgb"+pe),_e=new RegExp("rgba"+ve),be=new RegExp("hsl"+pe),ye=new RegExp("hsla"+ve),me="^(?:#?|0x?)",xe="([0-9a-fA-F]{1})",ke="([0-9a-fA-F]{2})",we=new RegExp(me+xe+xe+xe+"$"),Se=new RegExp(me+xe+xe+xe+xe+"$"),Ee=new RegExp(me+ke+ke+ke+"$"),Ce=new RegExp(me+ke+ke+ke+ke+"$"),Te=2e3,Re=4e4,Ae=Math.log,Me=Math.round,Oe=Math.floor,Ie=function(){function e(e,t){this.$={h:0,s:0,v:0,a:1},e&&this.set(e),this.onChange=t,this.initialValue=C({},this.$)}var t=e.prototype;return t.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof e?this.hsva=t.hsva:"r"in t&&"g"in t&&"b"in t?this.rgb=t:"h"in t&&"s"in t&&"v"in t?this.hsv=t:"h"in t&&"s"in t&&"l"in t?this.hsl=t:"kelvin"in t&&(this.kelvin=t.kelvin)}},t.setChannel=function(e,t,n){var r;this[e]=C({},this[e],(r={},r[t]=n,r))},t.reset=function(){this.hsva=this.initialValue},t.clone=function(){return new e(this)},t.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(e){var t=e.h/60,n=e.s/100,r=e.v/100,i=Oe(t),o=t-i,s=r*(1-n),l=r*(1-o*n),a=r*(1-(1-o)*n),u=i%6,c=[r,l,s,s,a,r][u],h=[a,r,r,l,s,s][u],d=[s,s,a,r,r,l][u];return{r:T(255*c,0,255),g:T(255*h,0,255),b:T(255*d,0,255)}},e.rgbToHsv=function(e){var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),o=Math.min(t,n,r),s=i-o,l=0,a=i,u=0===i?0:s/i;switch(i){case o:l=0;break;case t:l=(n-r)/s+(n<r?6:0);break;case n:l=(r-t)/s+2;break;case r:l=(t-n)/s+4}return{h:60*l%360,s:T(100*u,0,100),v:T(100*a,0,100)}},e.hsvToHsl=function(e){var t=e.s/100,n=e.v/100,r=(2-t)*n,i=r<=1?r:2-r,o=i<1e-9?0:t*n/i;return{h:e.h,s:T(100*o,0,100),l:T(50*r,0,100)}},e.hslToHsv=function(e){var t=2*e.l,n=e.s*(t<=100?t:200-t)/100,r=t+n<1e-9?0:2*n/(t+n);return{h:e.h,s:T(100*r,0,100),v:T((t+n)/2,0,100)}},e.kelvinToRgb=function(e){var t,n,r,i=e/100;return i<66?(t=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Ae(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*Ae(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*Ae(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Ae(n),r=255),{r:T(Oe(t),0,255),g:T(Oe(n),0,255),b:T(Oe(r),0,255)}},e.rgbToKelvin=function(t){for(var n,r=t.r,i=t.b,o=.4,s=Te,l=Re;l-s>o;){n=.5*(l+s);var a=e.kelvinToRgb(n);a.b/a.r>=i/r?l=n:s=n}return n},E(e,[{key:"hsv",get:function(){var e=this.$;return{h:e.h,s:e.s,v:e.v}},set:function(e){var t=this.$;if(e=C({},t,e),this.onChange){var n={h:!1,v:!1,s:!1,a:!1};for(var r in t)n[r]=e[r]!=t[r];this.$=e,(n.h||n.s||n.v||n.a)&&this.onChange(this,n)}else this.$=e}},{key:"hsva",get:function(){return C({},this.$)},set:function(e){this.hsv=e}},{key:"hue",get:function(){return this.$.h},set:function(e){this.hsv={h:e}}},{key:"saturation",get:function(){return this.$.s},set:function(e){this.hsv={s:e}}},{key:"value",get:function(){return this.$.v},set:function(e){this.hsv={v:e}}},{key:"alpha",get:function(){return this.$.a},set:function(e){this.hsv=C({},this.hsv,{a:e})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(t){this.rgb=e.kelvinToRgb(t)}},{key:"red",get:function(){var e=this.rgb;return e.r},set:function(e){this.rgb=C({},this.rgb,{r:e})}},{key:"green",get:function(){var e=this.rgb;return e.g},set:function(e){this.rgb=C({},this.rgb,{g:e})}},{key:"blue",get:function(){var e=this.rgb;return e.b},set:function(e){this.rgb=C({},this.rgb,{b:e})}},{key:"rgb",get:function(){var t=e.hsvToRgb(this.$),n=t.r,r=t.g,i=t.b;return{r:Me(n),g:Me(r),b:Me(i)}},set:function(t){this.hsv=C({},e.rgbToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"rgba",get:function(){return C({},this.rgb,{a:this.alpha})},set:function(e){this.rgb=e}},{key:"hsl",get:function(){var t=e.hsvToHsl(this.$),n=t.h,r=t.s,i=t.l;return{h:Me(n),s:Me(r),l:Me(i)}},set:function(t){this.hsv=C({},e.hslToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"hsla",get:function(){return C({},this.hsl,{a:this.alpha})},set:function(e){this.hsl=e}},{key:"rgbString",get:function(){var e=this.rgb;return"rgb("+e.r+", "+e.g+", "+e.b+")"},set:function(e){var t,n,r,i,o=1;if((t=ge.exec(e))?(n=R(t[1],255),r=R(t[2],255),i=R(t[3],255)):(t=_e.exec(e))&&(n=R(t[1],255),r=R(t[2],255),i=R(t[3],255),o=R(t[4],1)),!t)throw new Error("Invalid rgb string");this.rgb={r:n,g:r,b:i,a:o}}},{key:"rgbaString",get:function(){var e=this.rgba;return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},set:function(e){this.rgbString=e}},{key:"hexString",get:function(){var e=this.rgb;return"#"+M(e.r)+M(e.g)+M(e.b)},set:function(e){var t,n,r,i,o=255;if((t=we.exec(e))?(n=17*A(t[1]),r=17*A(t[2]),i=17*A(t[3])):(t=Se.exec(e))?(n=17*A(t[1]),r=17*A(t[2]),i=17*A(t[3]),o=17*A(t[4])):(t=Ee.exec(e))?(n=A(t[1]),r=A(t[2]),i=A(t[3])):(t=Ce.exec(e))&&(n=A(t[1]),r=A(t[2]),i=A(t[3]),o=A(t[4])),!t)throw new Error("Invalid hex string");this.rgb={r:n,g:r,b:i,a:o/255}}},{key:"hex8String",get:function(){var e=this.rgba;return"#"+M(e.r)+M(e.g)+M(e.b)+M(Oe(255*e.a))},set:function(e){this.hexString=e}},{key:"hslString",get:function(){var e=this.hsl;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},set:function(e){var t,n,r,i,o=1;if((t=be.exec(e))?(n=R(t[1],360),r=R(t[2],100),i=R(t[3],100)):(t=ye.exec(e))&&(n=R(t[1],360),r=R(t[2],100),i=R(t[3],100),o=R(t[4],1)),!t)throw new Error("Invalid hsl string");this.hsl={h:n,s:r,l:i,a:o}}},{key:"hslaString",get:function(){var e=this.hsla;return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},set:function(e){this.hslString=e}}]),e}(),Pe={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3},je=2*Math.PI,De=function(e,t){return(e%t+t)%t},He=function(e,t){return Math.sqrt(e*e+t*t)},Ne={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},We=["mousemove","touchmove","mouseup","touchend"],$e=function(e){function t(t){e.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){var t=this.handleEvent.bind(this),r={onMouseDown:t,ontouchstart:t},o="horizontal"===e.layoutDirection,s=null===e.margin?e.sliderMargin:e.margin,l={overflow:"visible",display:o?"inline-block":"block"};return e.index>0&&(l[o?"marginLeft":"marginTop"]=s),n(i,null,e.children(this.uid,r,l))},t.prototype.handleEvent=function(e){var t=this,n=this.props.onInput,r=this.base.getBoundingClientRect();e.preventDefault();var i=e.touches?e.changedTouches[0]:e,o=i.clientX-r.left,s=i.clientY-r.top;switch(e.type){case"mousedown":case"touchstart":var l=n(o,s,0);!1!==l&&We.forEach(function(e){document.addEventListener(e,t,{passive:!0})});break;case"mousemove":case"touchmove":n(o,s,1);break;case"mouseup":case"touchend":n(o,s,2),We.forEach(function(e){document.removeEventListener(e,t,{passive:!0})})}},t}(s);Z.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},J.defaultProps=Object.assign({},Pe);var Le="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",ze="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)",Ue=function(e){function t(t){var n=this;e.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id;var r=t.colors.length>0?t.colors:[t.color];r.forEach(function(e){return n.addColor(e)}),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addColor=function(e,t){void 0===t&&(t=this.colors.length);var n=new Ie(e,this.onColorChange.bind(this));this.colors.splice(t,0,n),this.colors.forEach(function(e,t){return e.index=t}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",n)},t.prototype.removeColor=function(e){var t=this.colors.splice(e,1)[0];t.unbind(),this.colors.forEach(function(e,t){return e.index=t}),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},t.prototype.setActiveColor=function(e){this.color=this.colors[e],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},t.prototype.setColors=function(e,t){var n=this;void 0===t&&(t=0),this.colors.forEach(function(e){return e.unbind()}),this.colors=[],e.forEach(function(e){return n.addColor(e)}),this.setActiveColor(t),this.emit("color:setAll",this.colors)},t.prototype.on=function(e,t){var n=this,r=this.events;(Array.isArray(e)?e:[e]).forEach(function(e){(r[e]||(r[e]=[])).push(t),n.deferredEvents[e]&&(n.deferredEvents[e].forEach(function(e){t.apply(null,e)}),n.deferredEvents[e]=[])})},t.prototype.off=function(e,t){var n=this;(Array.isArray(e)?e:[e]).forEach(function(e){var r=n.events[e];r&&r.splice(r.indexOf(t),1)})},t.prototype.emit=function(e){for(var t=this,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=this.activeEvents,o=!!i.hasOwnProperty(e)&&i[e];if(!o){i[e]=!0;var s=this.events[e]||[];s.forEach(function(e){return e.apply(t,n)}),i[e]=!1}},t.prototype.deferredEmit=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=this.deferredEvents;(t=this).emit.apply(t,[e].concat(n)),(i[e]||(i[e]=[])).push(n)},t.prototype.setOptions=function(e){this.setState(e)},t.prototype.resize=function(e){this.setOptions({width:e})},t.prototype.reset=function(){this.colors.forEach(function(e){return e.reset()}),this.setState({colors:this.colors})},t.prototype.onMount=function(e){this.el=e,this.deferredEmit("mount",this)},t.prototype.onColorChange=function(e,t){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",e,t)),this.emit("color:change",e,t)},t.prototype.emitInputEvent=function(e,t){0===e?this.emit("input:start",this.color,t):1===e?this.emit("input:move",this.color,t):2===e&&this.emit("input:end",this.color,t)},t.prototype.render=function(e,t){var r=this,i=t.layout;return Array.isArray(i)||(i=[{component:ee},{component:J}],t.transparency&&i.push({component:J,options:{sliderType:"alpha"}})),n("div",{class:"IroColorPicker",id:t.id,style:{display:t.display}},i.map(function(e,i){var o=e.component,s=e.options;return n(o,Object.assign({},t,s,{ref:void 0,onInput:r.emitInputEvent.bind(r),parent:r,index:i}))}))},t}(s);Ue.defaultProps=Object.assign({},Ne,{colors:[],display:"block",id:null,layout:"default",margin:null});var Be,Fe=te(Ue);(function(e){e.version="5.5.2",e.Color=Ie,e.ColorPicker=Fe,function(e){e.h=n,e.ComponentBase=$e,e.Handle=Z,e.Slider=J,e.Wheel=ee,e.Box=Q}(e.ui||(e.ui={}))})(Be||(Be={}));var qe=Be;return qe});